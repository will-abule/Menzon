<!--
  Titlebar
  ==================================================
-->
<div id="titlebar" class="single">
  <div class="container">
    <div class="sixteen columns">
      <h2>Complete Registration</h2>
      <nav id="breadcrumbs">
        <ul>
          <li>You are here:</li>
          <li><a [routerLink]="['/']">Home</a></li>
          <li>complete registrationn</li>
        </ul>
      </nav>
    </div>
  </div>
</div>

<!-- spinner -->
<app-loading-spinner *ngIf="loading"></app-loading-spinner>
<!-- spinner end -->

<app-error *ngIf="error" (reload)="ngOnInit()"></app-error>

<!--
  Content
  ==================================================
-->

<!-- Container -->
<div class="container" *ngIf="!loading && !error">
  <form [formGroup]="cRForm">
    <aw-wizard>
      <aw-wizard-step stepTitle="STEEP 1">
        <div class="row">
          <h3 class="margin-bottom-10 margin-top-10">Personal Information</h3>

          <br />

          <div class="row">
            <div class="form-row form-row-wide four columns">
              <label>First Name: <span class="red">*</span></label>
              <input
                type="text"
                class="input-text"
                [(ngModel)]="firstName$"
                formControlName="firstName"
                [ngClass]="{
                  'input-error':
                    (firstName.invalid && firstName.touched) ||
                    (firstName.invalid && firstCheck$)
                }"
              />
              <p
                class="error2"
                *ngIf="
                  (firstName.invalid && firstName.touched) ||
                  (firstName.invalid && firstCheck$)
                "
              >
                First Name is required
              </p>
            </div>

            <div class="form-row form-row-wide four columns">
              <label>Last Name: <span class="red">*</span></label>
              <input
                type="text"
                class="input-text"
                [(ngModel)]="lastName$"
                formControlName="lastName"
                [ngClass]="{
                  'input-error':
                    (lastName.invalid && lastName.touched) ||
                    (lastName.invalid && firstCheck$)
                }"
              />
              <p
                class="error2"
                *ngIf="
                  (lastName.invalid && lastName.touched) ||
                  (lastName.invalid && firstCheck$)
                "
              >
                Last Name is required
              </p>
            </div>

            <div class="form-row form-row-wide four columns">
              <label>Middle Name: (Optional)</label>
              <input
                type="text"
                class="input-text"
                formControlName="middleName"
              />
            </div>

            <div class="form-row form-row-wide four columns">
              <label>Gender: <span class="red">*</span></label>
              <select
                formControlName="gender"
                [ngClass]="{
                  'input-error':
                    (gender.invalid && gender.touched) ||
                    (gender.invalid && firstCheck$)
                }"
              >
                <option value="Male">Male</option>
                <option value="Female">Female</option>
              </select>
              <p
                class="error2"
                *ngIf="
                  (gender.invalid && gender.touched) ||
                  (gender.invalid && firstCheck$)
                "
              >
                Gender is required
              </p>
            </div>
          </div>

          <div class="row">
            <div class="form-row form-row-wide four columns">
              <label
                >Date of Birth (yyyy/mm/dd): <span class="red">*</span></label
              >
              <input
                style="
                    padding: 14px 18px;
                    outline: none;
                    font-size: 15px;
                    color: #909090;
                    margin: 0;
                    max-width: 100%;
                    width: 100%;
                    box-sizing: border-box;
                    display: block;
                    background-color: #fcfcfc;
                    font-weight: 500;
                    border: 1px solid #e0e0e0;
                    opacity: 1;
                  "
                placeholder="yyyy-mm-dd"
                formControlName="dateOfBirth"
                ngbDatepicker
                #d="ngbDatepicker"
                (click)="d.toggle()"
                [ngClass]="{
                  'input-error':
                    (dateOfBirth.invalid && dateOfBirth.touched) ||
                    (dateOfBirth.invalid && firstCheck$)
                }"
              />
              <p
                class="error2"
                *ngIf="
                  (dateOfBirth.invalid && dateOfBirth.touched) ||
                  (dateOfBirth.invalid && firstCheck$)
                "
              >
                Date Of Birth is required
              </p>
            </div>

            <div class="form-row form-row-wide four columns">
              <label>Email Address: <span class="red">*</span></label>
              <input
                type="email"
                class="input-text"
                [(ngModel)]="email$"
                formControlName="email"
                [ngClass]="{
                  'input-error':
                    (email.invalid && email.touched) ||
                    (email.invalid && firstCheck$)
                }"
              />
              <p
                class="error2"
                *ngIf="
                  (email.invalid && email.touched) ||
                  (email.invalid && firstCheck$)
                "
              >
                Email is required
              </p>
            </div>

            <div class="form-row form-row-wide four columns">
              <label>Phone Number: (Optional)</label>
              <input
                type="text"
                class="input-text"
                [(ngModel)]="mobileNumber$"
                formControlName="mobileNumber"
              />
            </div>

            <div class="form-row form-row-wide four columns">
              <label>Street Adress: (Optional)</label>
              <input
                type="text"
                class="input-text"
                formControlName="street_address"
              />
            </div>
          </div>

          <div class="row">
            <div class="form-row form-row-wide four columns">
              <label>City: (Optional)</label>
              <input type="text" class="input-text" formControlName="city" />
            </div>

            <div class="form-row form-row-wide four columns">
              <label>Country: <span class="red">*</span></label>
              <select
                formControlName="country"
                [ngClass]="{
                  'input-error':
                    (country.invalid && country.touched) ||
                    (country.invalid && firstCheck$)
                }"
              >
                <option *ngFor="let c of countries" [value]="c.code">
                  {{ c.name }}
                </option>
              </select>

              <p
                class="error2"
                *ngIf="
                  (country.invalid && country.touched) ||
                  (country.invalid && firstCheck$)
                "
              >
                Country is required
              </p>
            </div>

            <div class="form-row form-row-wide four columns">
              <label>Prov/State: <span class="red">*</span></label>
              <select
                formControlName="state"
                [ngClass]="{
                  'input-error':
                    (state.invalid && state.touched) ||
                    (state.invalid && firstCheck$)
                }"
              >
                <option *ngFor="let s of states" [value]="s.stateId">
                  {{ s.stateName }}
                </option>
              </select>

              <p
                class="error2"
                *ngIf="
                  (state.invalid && state.touched) ||
                  (state.invalid && firstCheck$)
                "
              >
                State is required
              </p>
            </div>

            <div class="form-row form-row-wide four columns">
              <label>Prefared Location: <span class="red">*</span></label>
              <select
                formControlName="prefaredLocation"
                [ngClass]="{
                  'input-error':
                    (prefaredLocation.invalid && state.touched) ||
                    (prefaredLocation.invalid && firstCheck$)
                }"
              >
                <option *ngFor="let st of states" [value]="st.stateName">
                  {{ st.stateName }}
                </option>
              </select>

              <p
                class="error2"
                *ngIf="
                  (prefaredLocation.invalid && prefaredLocation.touched) ||
                  (prefaredLocation.invalid && firstCheck$)
                "
              >
                Prefared Location is required
              </p>
            </div>
          </div>

          <div class="row">
            <div class="form-row form-row-wide four columns">
              <label>Specialiazation: <span class="red">*</span></label>
              <ng-multiselect-dropdown
                [placeholder]="'Select your Specialiazation'"
                [data]="categories"
                formControlName="preferedPositions"
                [(ngModel)]="selectedItems"
                [settings]="dropdownSettings"
                (onSelect)="onItemSelect($event)"
                (onSelectAll)="onSelectAll($event)"
                (onDeSelect)="onDeSelect($event)"
                (onDeSelectAll)="onDeSelectAll($event)"
              >
              </ng-multiselect-dropdown>

              <p
                class="error2"
                *ngIf="
                  (preferedPositions.invalid && preferedPositions.touched) ||
                  (preferedPositions.invalid && firstCheck$)
                "
              >
                Specialiazation is required
              </p>
            </div>

            <div class="form-row form-row-wide four columns">
              <label>Marital Status: <span class="red">*</span></label>
              <select
                formControlName="maritalStatus"
                [ngClass]="{
                  'input-error':
                    (maritalStatus.invalid && maritalStatus.touched) ||
                    (maritalStatus.invalid && firstCheck$)
                }"
              >
                <option value="Married">Married</option>
                <option value="Single">Single</option>
                <option value="Divorced">Divorced </option>
                <option value="Widowed">Widowed</option>
              </select>

              <p
                class="error2"
                *ngIf="
                  (maritalStatus.invalid && maritalStatus.touched) ||
                  (maritalStatus.invalid && firstCheck$)
                "
              >
                Marital Status is required
              </p>
            </div>

            <div class="form-row form-row-wide four columns">
              <label>Expected Salary: <span class="red">*</span></label>
              <input
                type="number"
                class="input-text"
                formControlName="expectedSalary"
                [ngClass]="{
                  'input-error':
                    (expectedSalary.invalid && expectedSalary.touched) ||
                    (expectedSalary.invalid && firstCheck$)
                }"
              />
              <p
                class="error2"
                *ngIf="
                  (expectedSalary.invalid && expectedSalary.touched) ||
                  (expectedSalary.invalid && firstCheck$)
                "
              >
                Expected Salary is required
              </p>
            </div>
          </div>
        </div>
        <br />
        <button
          *ngIf="
            !firstCheck$ &&
            (state.invalid ||
              country.invalid ||
              email.invalid ||
              dateOfBirth.invalid ||
              gender.invalid ||
              lastName.invalid ||
              firstName.invalid ||
              maritalStatus.invalid ||
              preferedPositions.invalid ||
              expectedSalary.invalid ||
              prefaredLocation.invalid)
          "
          (click)="firstCheck()"
          type="button"
        >
          Next Steep
        </button>
        <button
          *ngIf="
            firstCheck$ &&
            (state.invalid ||
              country.invalid ||
              email.invalid ||
              dateOfBirth.invalid ||
              gender.invalid ||
              lastName.invalid ||
              firstName.invalid ||
              maritalStatus.invalid ||
              preferedPositions.invalid ||
              expectedSalary.invalid ||
              prefaredLocation.invalid)
          "
          (click)="firstCheck()"
          type="button"
        >
          Next Steep
        </button>
        <button
          *ngIf="
            !state.invalid &&
            !country.invalid &&
            !email.invalid &&
            !dateOfBirth.invalid &&
            !gender.invalid &&
            !lastName.invalid &&
            !firstName.invalid &&
            !maritalStatus.invalid &&
            !preferedPositions.invalid &&
            !expectedSalary.invalid &&
            !prefaredLocation.invalid
          "
          type="button"
          awNextStep
        >
          Next Steep
        </button>

        <button
          *ngIf="
            !state.invalid &&
            !country.invalid &&
            !email.invalid &&
            !dateOfBirth.invalid &&
            !gender.invalid &&
            !lastName.invalid &&
            !firstName.invalid &&
            !maritalStatus.invalid &&
            !preferedPositions.invalid &&
            !expectedSalary.invalid &&
            !prefaredLocation.invalid
          "
          type="button"
          (click)="submit()"
        >
          {{ Finish2 }}
        </button>
      </aw-wizard-step>

      <aw-wizard-step stepTitle="STEEP 2">
        <div class="container">
          <div formGroupName="education">
            <h3 class="margin-bottom-10 margin-top-10">Education</h3>

            <br />
            <div
              class="row"
              *ngFor="let e of educationForms.controls; let i = index"
              [formGroupName]="i"
            >
              <br /><br />
              <div class="row">
                <div class="form-row form-row-wide four columns">
                  <label>Institution: <span class="red">*</span></label>
                  <input
                    type="text"
                    class="input-text"
                    formControlName="institution"
                    [ngClass]="{
                      'input-error':
                        (e.controls.institution.invalid &&
                          e.controls.institution.touched) ||
                        (e.controls.institution.invalid && secondCheck$)
                    }"
                  />
                  <p
                    class="error2"
                    *ngIf="
                      (e.controls.institution.invalid &&
                        e.controls.institution.touched) ||
                      (e.controls.institution.invalid && secondCheck$)
                    "
                  >
                    Institution is required
                  </p>
                </div>

                <div class="form-row form-row-wide four columns">
                  <label>Diploma/Degree: <span class="red">*</span></label>
                  <select
                    formControlName="degree"
                    [ngClass]="{
                      'input-error':
                        (e.controls.degree.invalid &&
                          e.controls.degree.touched) ||
                        (e.controls.degree.invalid && secondCheck$)
                    }"
                  >
                    <!-- <option *ngFor="let d of degree" [value]="d.name">{{
                      d.name
                    }}</option> -->

                    <option value="PhD">PhD</option>
                    <option value="PGD">PGD</option>
                    <option value="MSC">MSC</option>
                    <option value="B.Sc">B.Sc</option>
                    <option value="HND">HND</option>
                    <option value="ND">ND</option>
                    <option value="OND">OND</option>
                    <option value="NCE">NCE</option>
                    <option value="SSCE">SSCE</option>
                  </select>
                  <p
                    class="error2"
                    *ngIf="
                      (e.controls.degree.invalid &&
                        e.controls.degree.touched) ||
                      (e.controls.degree.invalid && secondCheck$)
                    "
                  >
                    Degree is required
                  </p>
                </div>

                <div class="form-row form-row-wide four columns">
                  <label>Country: <span class="red">*</span></label>
                  <select
                    formControlName="country"
                    [ngClass]="{
                      'input-error':
                        (e.controls.country.invalid &&
                          e.controls.country.touched) ||
                        (e.controls.country.invalid && secondCheck$)
                    }"
                  >
                    <option *ngFor="let c of countries" [value]="c.code">
                      {{ c.name }}
                    </option>
                  </select>

                  <p
                    class="error2"
                    *ngIf="
                      (e.controls.country.invalid &&
                        e.controls.country.touched) ||
                      (e.controls.country.invalid && secondCheck$)
                    "
                  >
                    Country is required
                  </p>
                </div>

                <div class="form-row form-row-wide four columns">
                  <label>From Year: <span class="red">*</span></label>
                  <input
                    type="number"
                    class="input-text"
                    formControlName="fromYear"
                    [ngClass]="{
                      'input-error':
                        (e.controls.fromYear.invalid &&
                          e.controls.fromYear.touched) ||
                        (e.controls.fromYear.invalid && secondCheck$)
                    }"
                  />
                  <p
                    class="error2"
                    *ngIf="
                      (e.controls.fromYear.invalid &&
                        e.controls.fromYear.touched) ||
                      (e.controls.fromYear.invalid && secondCheck$)
                    "
                  >
                    From Year is required
                  </p>
                  <!-- <p
                    class="error2"
                    *ngIf="
                      (e.controls.fromYear.errors?.minLength ||
                        e.controls.fromYear.errors?.maxLength) &&
                      e.controls.fromYear.touched
                    "
                  >
                    Invalid Year
                  </p> -->
                </div>
              </div>

              <div class="row">
                <div class="form-row form-row-wide four columns">
                  <label>From Month: <span class="red">*</span></label>
                  <select
                    formControlName="fromMonth"
                    [ngClass]="{
                      'input-error':
                        (e.controls.fromMonth.invalid &&
                          e.controls.fromMonth.touched) ||
                        (e.controls.fromMonth.invalid && secondCheck$)
                    }"
                  >
                    <option *ngFor="let m of months" [value]="m">{{
                      m
                    }}</option>
                  </select>
                  <p
                    class="error2"
                    *ngIf="
                      (e.controls.fromMonth.invalid &&
                        e.controls.fromMonth.touched) ||
                      (e.controls.fromMonth.invalid && secondCheck$)
                    "
                  >
                    From Month is required
                  </p>
                </div>

                <div class="form-row form-row-wide four columns">
                  <label>To Year: <span class="red">*</span></label>
                  <input
                    type="number"
                    class="input-text"
                    formControlName="toYear"
                    [ngClass]="{
                      'input-error':
                        (e.controls.toYear.invalid &&
                          e.controls.toYear.touched) ||
                        (e.controls.toYear.invalid && secondCheck$)
                    }"
                  />
                  <p
                    class="error2"
                    *ngIf="
                      (e.controls.toYear.invalid &&
                        e.controls.toYear.touched) ||
                      (e.controls.toYear.invalid && secondCheck$)
                    "
                  >
                    To Year is required
                  </p>

                  <!-- <p
                    class="error2"
                    *ngIf="
                      (e.controls.toYear.errors?.minLength ||
                        e.controls.toYear.errors?.maxLength) &&
                      e.controls.toYear.touched
                    "
                  >
                    Invalid Year
                  </p> -->
                </div>

                <div class="form-row form-row-wide four columns">
                  <label>To Month: <span class="red">*</span></label>
                  <select
                    formControlName="toMonth"
                    [ngClass]="{
                      'input-error':
                        (e.controls.toMonth.invalid &&
                          e.controls.toMonth.touched) ||
                        (e.controls.toMonth.invalid && secondCheck$)
                    }"
                  >
                    <option *ngFor="let m of months" [value]="m">
                      {{ m }}
                    </option>
                  </select>

                  <p
                    class="error2"
                    *ngIf="
                      (e.controls.toMonth.invalid &&
                        e.controls.toMonth.touched) ||
                      (e.controls.toMonth.invalid && secondCheck$)
                    "
                  >
                    To Month is required
                  </p>
                </div>

                <div class="form-row form-row-wide four columns">
                  <label>Course of Study: <span class="red">*</span></label>
                  <input
                    type="text"
                    class="input-text"
                    formControlName="course"
                    [ngClass]="{
                      'input-error':
                        (e.controls.course.invalid &&
                          e.controls.course.touched) ||
                        (e.controls.course.invalid && secondCheck$)
                    }"
                  />

                  <p
                    class="error2"
                    *ngIf="
                      (e.controls.course.invalid &&
                        e.controls.course.touched) ||
                      (e.controls.course.invalid && secondCheck$)
                    "
                  >
                    Course is required
                  </p>
                </div>
              </div>

              <br />
              <button
                style="color: #fff; background: red"
                *ngIf="educationForms.controls?.length > 1"
                (click)="deleteEducation(i)"
                class="button gray"
              >
                <i class="fa fa-plus-circle"></i>Delete
              </button>
            </div>
          </div>

          <button (click)="addEducation()" class="button gray">
            <i class="fa fa-plus-circle"></i> Add More Education
          </button>
        </div>

        <div class="container">
          <h3 class="margin-bottom-10 margin-top-10">NYSC Information</h3>

          <br /><br />

          <div class="form-row form-row-wide five columns">
            <label>NYSC Completed: <span class="red">*</span></label>
            <select
              formControlName="NTSCcompleted"
              [ngClass]="{
                'input-error':
                  (NTSCcompleted.invalid && NTSCcompleted.touched) ||
                  (NTSCcompleted.invalid && secondCheck$)
              }"
            >
              <option value="yes">Yes</option>
              <option value="no">No</option>
              <option value="not gone">Not Gone</option>
            </select>

            <p
              class="error2"
              *ngIf="
                (NTSCcompleted.invalid && NTSCcompleted.touched) ||
                (NTSCcompleted.invalid && secondCheck$)
              "
            >
              NYSC Completed Status is required
            </p>
          </div>

          <div class="form-row form-row-wide five columns">
            <label>Nysc Date Started (dd/mm/yyyy): (Optional)</label>
            <input
              style="
                padding: 14px 18px;
                outline: none;
                font-size: 15px;
                color: #909090;
                margin: 0;
                max-width: 100%;
                width: 100%;
                box-sizing: border-box;
                display: block;
                background-color: #fcfcfc;
                font-weight: 500;
                border: 1px solid #e0e0e0;
                opacity: 1;
              "
              placeholder="yyyy-mm-dd"
              formControlName="NYSCDate"
              ngbDatepicker
              #d2="ngbDatepicker"
              (click)="d2.toggle()"
            />
          </div>

          <div class="form-row form-row-wide five columns">
            <label>NYSC Date of Completion: (Optional)</label>
            <input
              style="
                padding: 14px 18px;
                outline: none;
                font-size: 15px;
                color: #909090;
                margin: 0;
                max-width: 100%;
                width: 100%;
                box-sizing: border-box;
                display: block;
                background-color: #fcfcfc;
                font-weight: 500;
                border: 1px solid #e0e0e0;
                opacity: 1;
              "
              placeholder="yyyy-mm-dd"
              formControlName="NTSCcompletedDate"
              ngbDatepicker
              #d3="ngbDatepicker"
              (click)="d3.toggle()"
            />
          </div>
        </div>

        <br /><br />
        <button type="button" awPreviousStep>PREV</button>
        <button
          *ngIf="
            !secondCheck$ && educationForms.invalid && NTSCcompleted.invalid
          "
          (click)="secondCheck()"
          type="button"
        >
          Next Steep
        </button>
        <button
          *ngIf="
            secondCheck$ && educationForms.invalid && NTSCcompleted.invalid
          "
          (click)="secondCheck()"
          type="button"
        >
          Next Steep
        </button>
        <button
          *ngIf="!educationForms.invalid && !NTSCcompleted.invalid"
          type="button"
          awNextStep
        >
          Next Steep
        </button>

        <button type="button" (click)="submit()">{{ Finish2 }}</button>
      </aw-wizard-step>

      <aw-wizard-step stepTitle="STEEP 3">
        <div class="container">
          <div formGroupName="referees">
            <h3 class="margin-bottom-10 margin-top-10">Referees</h3>

            <br />
            <div
              class="row"
              *ngFor="let r of refereesForms.controls; let i = index"
              [formGroupName]="i"
            >
              <br /><br />
              <div class="row">
                <div class="form-row form-row-wide four columns">
                  <label>Name: <span class="red">*</span></label>
                  <input
                    type="text"
                    class="input-text"
                    formControlName="name"
                    [ngClass]="{
                      'input-error':
                        (r.controls.name.invalid && r.controls.name.touched) ||
                        (r.controls.name.invalid && newCheck$)
                    }"
                  />
                  <p
                    class="error2"
                    *ngIf="
                      (r.controls.name.invalid && r.controls.name.touched) ||
                      (r.controls.name.invalid && newCheck$)
                    "
                  >
                    Name is required
                  </p>
                </div>

                <div class="form-row form-row-wide four columns">
                  <label>Designation: <span class="red">*</span></label>
                  <input
                    type="text"
                    class="input-text"
                    formControlName="designation"
                    [ngClass]="{
                      'input-error':
                        (r.controls.designation.invalid &&
                          r.controls.designation.touched) ||
                        (r.controls.designation.invalid && newCheck$)
                    }"
                  />
                  <p
                    class="error2"
                    *ngIf="
                      (r.controls.designation.invalid &&
                        r.controls.designation.touched) ||
                      (r.controls.designation.invalid && newCheck$)
                    "
                  >
                    Referee Designation is required
                  </p>
                </div>

                <div class="form-row form-row-wide four columns">
                  <label>Company: <span class="red">*</span></label>
                  <input
                    type="text"
                    class="input-text"
                    formControlName="company"
                    [ngClass]="{
                      'input-error':
                        (r.controls.company.invalid &&
                          r.controls.company.touched) ||
                        (r.controls.company.invalid && newCheck$)
                    }"
                  />
                  <p
                    class="error2"
                    *ngIf="
                      (r.controls.company.invalid &&
                        r.controls.company.touched) ||
                      (r.controls.company.invalid && newCheck$)
                    "
                  >
                    Referee Company is required
                  </p>
                </div>

                <div class="form-row form-row-wide four columns">
                  <label>Country: <span class="red">*</span></label>
                  <select
                    formControlName="country"
                    [ngClass]="{
                      'input-error':
                        (r.controls.country.invalid &&
                          r.controls.country.touched) ||
                        (r.controls.country.invalid && newCheck$)
                    }"
                  >
                    <option *ngFor="let c of countries" [value]="c.name">
                      {{ c.name }}
                    </option>
                  </select>

                  <p
                    class="error2"
                    *ngIf="
                      (r.controls.country.invalid &&
                        r.controls.country.touched) ||
                      (r.controls.country.invalid && newCheck$)
                    "
                  >
                    Referee Country is required
                  </p>
                </div>
              </div>

              <div class="row">
                <div class="form-row form-row-wide four columns">
                  <label>Phone: <span class="red">*</span></label>
                  <input
                    type="text"
                    class="input-text"
                    formControlName="phone"
                    [ngClass]="{
                      'input-error':
                        (r.controls.phone.invalid &&
                          r.controls.phone.touched) ||
                        (r.controls.phone.invalid && newCheck$)
                    }"
                  />
                  <p
                    class="error2"
                    *ngIf="
                      (r.controls.phone.invalid && r.controls.phone.touched) ||
                      (r.controls.phone.invalid && newCheck$)
                    "
                  >
                    phone is required
                  </p>
                </div>

                <div class="form-row form-row-wide four columns">
                  <label>Email: <span class="red">*</span></label>
                  <input
                    type="text"
                    class="input-text"
                    formControlName="email"
                    [ngClass]="{
                      'input-error':
                        (r.controls.email.invalid &&
                          r.controls.email.touched) ||
                        (r.controls.email.invalid && newCheck$)
                    }"
                  />
                  <p
                    class="error2"
                    *ngIf="
                      (r.controls.email.invalid && r.controls.email.touched) ||
                      (r.controls.email.invalid && newCheck$)
                    "
                  >
                    Referee Email is required
                  </p>
                </div>

                <div
                  style="display: none"
                  class="form-row form-row-wide four columns"
                >
                  <label>Id: <span class="red">*</span></label>
                  <input
                    type="text"
                    class="input-text"
                    disabled
                    [(ngModel)]="'referees_' + i"
                    formControlName="id"
                    [ngClass]="{
                      'input-error':
                        (r.controls.id.invalid && r.controls.id.touched) ||
                        (r.controls.id.invalid && newCheck$)
                    }"
                  />
                  <p
                    class="error2"
                    *ngIf="
                      (r.controls.id.invalid && r.controls.id.touched) ||
                      (r.controls.id.invalid && newCheck$)
                    "
                  >
                    Referee Id is required
                  </p>
                </div>
              </div>
            </div>

            <br />
            <button
              style="color: #fff; background: red"
              *ngIf="refereesForms.controls?.length > 1"
              (click)="deleteReferees(i)"
              class="button gray"
            >
              <i class="fa fa-plus-circle"></i>Delete
            </button>
          </div>
        </div>

        <button (click)="addReferees()" class="button gray">
          <i class="fa fa-plus-circle"></i> Add More Referees
        </button>

        <br /><br />
        <button type="button" awPreviousStep>PREV</button>
        <button
          *ngIf="!newCheck$ && refereesForms.invalid"
          (click)="secondCheck()"
          type="button"
        >
          Next Steep
        </button>
        <button
          *ngIf="newCheck$ && refereesForms.invalid"
          (click)="newCheck()"
          type="button"
        >
          Next Steep
        </button>
        <button *ngIf="!refereesForms.invalid" type="button" awNextStep>
          Next Steep
        </button>

        <button type="button" (click)="submit()">{{ Finish2 }}</button>
      </aw-wizard-step>

      <aw-wizard-step stepTitle="STEEP 4">
        <div class="container">
          <div formGroupName="workHistory">
            <h3 class="margin-bottom-10 margin-top-10">Work History</h3>

            <br /><br />

            <div
              class="row"
              *ngFor="let wH of workHistoryForms.controls; let i = index"
              [formGroupName]="i"
            >
              <div class="row">
                <div class="form-row form-row-wide five columns">
                  <label>Company: <span class="red">*</span></label>
                  <input
                    type="text"
                    class="input-text"
                    formControlName="company"
                    [ngClass]="{
                      'input-error':
                        (wH.controls.company.invalid &&
                          wH.controls.company.touched) ||
                        (wH.controls.company.invalid && thirdCheck$)
                    }"
                  />
                  <p
                    class="error2"
                    *ngIf="
                      (wH.controls.company.invalid &&
                        wH.controls.company.touched) ||
                      (wH.controls.company.invalid && thirdCheck$)
                    "
                  >
                    Company is required
                  </p>
                </div>

                <div class="form-row form-row-wide five columns">
                  <label>Job Title: <span class="red">*</span></label>
                  <input
                    type="text"
                    class="input-text"
                    formControlName="jobTitle"
                    [ngClass]="{
                      'input-error':
                        (wH.controls.jobTitle.invalid &&
                          wH.controls.jobTitle.touched) ||
                        (wH.controls.jobTitle.invalid && thirdCheck$)
                    }"
                  />
                  <p
                    class="error2"
                    *ngIf="
                      (wH.controls.jobTitle.invalid &&
                        wH.controls.jobTitle.touched) ||
                      (wH.controls.jobTitle.invalid && thirdCheck$)
                    "
                  >
                    Job Title is required
                  </p>
                </div>

                <div class="form-row form-row-wide five columns">
                  <label>Country: <span class="red">*</span></label>
                  <select
                    formControlName="country"
                    [ngClass]="{
                      'input-error':
                        (wH.controls.country.invalid &&
                          wH.controls.country.touched) ||
                        (wH.controls.country.invalid && thirdCheck$)
                    }"
                  >
                    <option *ngFor="let c of countries" [value]="c.code">
                      {{ c.name }}
                    </option>
                  </select>
                  <p
                    class="error2"
                    *ngIf="
                      (wH.controls.country.invalid &&
                        wH.controls.country.touched) ||
                      (wH.controls.country.invalid && thirdCheck$)
                    "
                  >
                    Country is required
                  </p>
                </div>
              </div>

              <div class="row">
                <div class="form-row form-row-wide four columns">
                  <label>From Year: <span class="red">*</span></label>
                  <input
                    type="number"
                    class="input-text"
                    formControlName="fromYear"
                    [ngClass]="{
                      'input-error':
                        (wH.controls.fromYear.invalid &&
                          wH.controls.fromYear.touched) ||
                        (wH.controls.fromYear.invalid && thirdCheck$)
                    }"
                  />
                  <p
                    class="error2"
                    *ngIf="
                      (wH.controls.fromYear.invalid &&
                        wH.controls.fromYear.touched) ||
                      (wH.controls.fromYear.invalid && thirdCheck$)
                    "
                  >
                    From Year is required
                  </p>

                  <!-- <p
                    class="error2"
                    *ngIf="
                      (wH.controls.fromYear.errors?.minLength ||
                        wH.controls.fromYear.errors?.maxLength) &&
                      wH.controls.fromYear.touched
                    "
                  >
                    Invalid Year
                  </p> -->
                </div>
                <div class="form-row form-row-wide four columns">
                  <label>From Month: <span class="red">*</span></label>
                  <select
                    formControlName="fromMonth"
                    [ngClass]="{
                      'input-error':
                        (wH.controls.fromMonth.invalid &&
                          wH.controls.fromMonth.touched) ||
                        (wH.controls.fromMonth.invalid && thirdCheck$)
                    }"
                  >
                    <option *ngFor="let m of months" [value]="m">
                      {{ m }}
                    </option>
                  </select>
                  <p
                    class="error2"
                    *ngIf="
                      (wH.controls.fromMonth.invalid &&
                        wH.controls.fromMonth.touched) ||
                      (wH.controls.fromMonth.invalid && thirdCheck$)
                    "
                  >
                    From Month is required
                  </p>
                </div>

                <div class="form-row form-row-wide four columns">
                  <label>To Year: <span class="red">*</span></label>
                  <input
                    type="number"
                    class="input-text"
                    formControlName="toYear"
                    [ngClass]="{
                      'input-error':
                        (wH.controls.toYear.invalid &&
                          wH.controls.toYear.touched) ||
                        (wH.controls.toYear.invalid && thirdCheck$)
                    }"
                  />

                  <p
                    class="error2"
                    *ngIf="
                      (wH.controls.toYear.invalid &&
                        wH.controls.toYear.touched) ||
                      (wH.controls.toYear.invalid && thirdCheck$)
                    "
                  >
                    To Year is required
                  </p>

                  <!-- <p
                    class="error2"
                    *ngIf="
                      (wH.controls.toYear.errors?.minLength ||
                        wH.controls.toYear.errors?.maxLength) &&
                      wH.controls.toYear.touched
                    "
                  >
                    Invalid Year
                  </p> -->
                </div>

                <div class="form-row form-row-wide four columns">
                  <label>To Month: <span class="red">*</span></label>
                  <select
                    formControlName="toMonth"
                    [ngClass]="{
                      'input-error':
                        (wH.controls.toMonth.invalid &&
                          wH.controls.toMonth.touched) ||
                        (wH.controls.toMonth.invalid && thirdCheck$)
                    }"
                  >
                    <option *ngFor="let m of months" [value]="m">
                      {{ m }}
                    </option>
                  </select>

                  <p
                    class="error2"
                    *ngIf="
                      (wH.controls.toYear.invalid &&
                        wH.controls.toYear.touched) ||
                      (wH.controls.toYear.invalid && thirdCheck$)
                    "
                  >
                    To Year is required
                  </p>
                </div>
              </div>

              <br />
              <button
                *ngIf="workHistoryForms.controls?.length > 1"
                (click)="deleteWorkHistory(i)"
                class="button gray"
                style="color: #fff; background: red"
              >
                <i class="fa fa-plus-circle"></i>Delete
              </button>
            </div>
          </div>

          <br />
          <button (click)="addWorkHistory()" class="button gray">
            <i class="fa fa-plus-circle"></i> Add Work History
          </button>
        </div>
        <br /><br />
        <button type="button" awPreviousStep>PREV</button>
        <button
          *ngIf="!thirdCheck$ && workHistoryForms.invalid"
          (click)="thirdCheck()"
          type="button"
        >
          Next Steep
        </button>
        <button
          *ngIf="thirdCheck$ && workHistoryForms.invalid"
          (click)="thirdCheck()"
          type="button"
        >
          Next Steep
        </button>
        <button *ngIf="!workHistoryForms.invalid" type="button" awNextStep>
          Next Steep
        </button>
        <button type="button" (click)="submit()">{{ Finish2 }}</button>
      </aw-wizard-step>

      <aw-wizard-step stepTitle="STEEP 5">
        <div class="container">
          <div formGroupName="skills">
            <h3 class="margin-bottom-10 margin-top-10">Skills</h3>

            <br /><br />

            <div
              class="row"
              *ngFor="let s of skillsForms.controls; let i = index"
              [formGroupName]="i"
            >
              <div class="row">
                <div class="form-row form-row-wide three columns">
                  <label>Skill: <span class="red">*</span></label>
                  <input
                    type="text"
                    class="input-text"
                    formControlName="skill"
                    [ngClass]="{
                      'input-error':
                        (s.controls.skill.invalid &&
                          s.controls.skill.touched) ||
                        (s.controls.skill.invalid && forthCheck$)
                    }"
                  />
                  <p
                    class="error2"
                    *ngIf="
                      (s.controls.skill.invalid && s.controls.skill.touched) ||
                      (s.controls.skill.invalid && forthCheck$)
                    "
                  >
                    Skill is required
                  </p>
                </div>

                <div class="form-row form-row-wide three columns">
                  <label>Skill Level: <span class="red">*</span></label>
                  <select
                    formControlName="skillLevel"
                    [ngClass]="{
                      'input-error':
                        (s.controls.skillLevel.invalid &&
                          s.controls.skillLevel.touched) ||
                        (s.controls.skillLevel.invalid && forthCheck$)
                    }"
                  >
                    <option *ngFor="let sk of skillLevel" [value]="sk">
                      {{ sk }}
                    </option>
                  </select>

                  <p
                    class="error2"
                    *ngIf="
                      (s.controls.skillLevel.invalid &&
                        s.controls.skillLevel.touched) ||
                      (s.controls.skillLevel.invalid && forthCheck$)
                    "
                  >
                    Skill Level is required
                  </p>
                </div>

                <div class="form-row form-row-wide three columns">
                  <label>Last Year Used: <span class="red">*</span></label>
                  <input
                    type="number"
                    class="input-text"
                    formControlName="lastYearUsed"
                    [ngClass]="{
                      'input-error':
                        (s.controls.lastYearUsed.invalid &&
                          s.controls.lastYearUsed.touched) ||
                        (s.controls.lastYearUsed.invalid && forthCheck$)
                    }"
                  />
                  <p
                    class="error2"
                    *ngIf="
                      (s.controls.lastYearUsed.invalid &&
                        s.controls.lastYearUsed.touched) ||
                      (s.controls.lastYearUsed.invalid && forthCheck$)
                    "
                  >
                    Last Year Used is required
                  </p>
                  <!-- 
                  <p
                  class="error2"
                  *ngIf="
                    (s.controls.lastYearUsed.errors?.minLength ||
                    s.controls.lastYearUsed.errors?.maxLength) &&
                    s.controls.lastYearUsed.touched
                  "
                >
                  Invalid Year
                </p> -->
                </div>

                <div class="form-row form-row-wide three columns">
                  <label>Last Month Used: <span class="red">*</span></label>
                  <select
                    formControlName="lastMonthUsed"
                    [ngClass]="{
                      'input-error':
                        (s.controls.lastMonthUsed.invalid &&
                          s.controls.lastMonthUsed.touched) ||
                        (s.controls.lastMonthUsed.invalid && forthCheck$)
                    }"
                  >
                    <option *ngFor="let m of months" [value]="m">
                      {{ m }}
                    </option>
                  </select>

                  <p
                    class="error2"
                    *ngIf="
                      (s.controls.lastMonthUsed.invalid &&
                        s.controls.lastMonthUsed.touched) ||
                      (s.controls.lastMonthUsed.invalid && forthCheck$)
                    "
                  >
                    Last Month Used is required
                  </p>
                </div>

                <div class="form-row form-row-wide three columns">
                  <label>Years of Experience: <span class="red">*</span></label>
                  <input
                    type="number"
                    class="input-text"
                    formControlName="yearsOfExperience"
                    [ngClass]="{
                      'input-error':
                        (s.controls.yearsOfExperience.invalid &&
                          s.controls.yearsOfExperience.touched) ||
                        (s.controls.yearsOfExperience.invalid && forthCheck$)
                    }"
                  />
                  <p
                    class="error2"
                    *ngIf="
                      (s.controls.yearsOfExperience.invalid &&
                        s.controls.yearsOfExperience.touched) ||
                      (s.controls.yearsOfExperience.invalid && forthCheck$)
                    "
                  >
                    Years Of Experience is required
                  </p>
                </div>
              </div>

              <br />
              <button
                style="color: #fff; background: red"
                *ngIf="skillsForms.controls?.length > 1"
                (click)="deleteSkill(i)"
                class="button gray"
              >
                <i class="fa fa-plus-circle"></i>Delete
              </button>
            </div>
          </div>

          <br />
          <button (click)="addSkill()" class="button gray">
            <i class="fa fa-plus-circle"></i> Add More Skills
          </button>
        </div>

        <div class="container">
          <div formGroupName="language">
            <h3 class="margin-bottom-10 margin-top-10">Language</h3>

            <br /><br />

            <div
              class="row"
              *ngFor="let l of languageForms.controls; let i = index"
              [formGroupName]="i"
            >
              <div class="row">
                <div class="form-row form-row-wide six columns">
                  <label>Language: <span class="red">*</span></label>
                  <input
                    type="text"
                    class="input-text"
                    formControlName="language"
                    [ngClass]="{
                      'input-error':
                        (l.controls.language.invalid &&
                          l.controls.language.touched) ||
                        (l.controls.language.invalid && forthCheck$)
                    }"
                  />
                  <p
                    class="error2"
                    *ngIf="
                      (l.controls.language.invalid &&
                        l.controls.language.touched) ||
                      (l.controls.language.invalid && forthCheck$)
                    "
                  >
                    Language is required
                  </p>
                </div>

                <div class="form-row form-row-wide six columns">
                  <label>Proficiency Level: <span class="red">*</span></label>
                  <select
                    formControlName="proficiencyLevel"
                    [ngClass]="{
                      'input-error':
                        (l.controls.proficiencyLevel.invalid &&
                          l.controls.proficiencyLevel.touched) ||
                        (l.controls.proficiencyLevel.invalid && forthCheck$)
                    }"
                  >
                    <option value="Novice">Novice</option>
                    <option value="Beginner">Beginner</option>
                    <option value="Advanced">Advanced</option>
                    <option value="Competent">Competent</option>
                    <option value="Proficient">Proficient</option>
                    <option value="Expert">Expert</option>
                  </select>

                  <p
                    class="error2"
                    *ngIf="
                      (l.controls.proficiencyLevel.invalid &&
                        l.controls.proficiencyLevel.touched) ||
                      (l.controls.proficiencyLevel.invalid && forthCheck$)
                    "
                  >
                    Proficiency Level is required
                  </p>
                </div>
              </div>

              <br />
              <button
                style="color: #fff; background: red"
                *ngIf="languageForms.controls?.length > 1"
                (click)="deleteLanguage(i)"
                class="button gray"
              >
                <i class="fa fa-plus-circle"></i>Delete
              </button>
            </div>
          </div>

          <br />
          <button (click)="addLanguage()" class="button gray">
            <i class="fa fa-plus-circle"></i> Add More Languages
          </button>
        </div>
        <br /><br />
        <button type="button" awPreviousStep>PREV</button>
        <button
          *ngIf="!forthCheck$ && skillsForms.invalid && languageForms.invalid"
          (click)="forthCheck()"
          type="button"
        >
          Next Steep
        </button>
        <button
          *ngIf="forthCheck$ && skillsForms.invalid && languageForms.invalid"
          (click)="forthCheck()"
          type="button"
        >
          Next Steep
        </button>
        <button
          *ngIf="!skillsForms.invalid && !languageForms.invalid"
          type="button"
          awNextStep
        >
          Next Steep
        </button>
        <button type="button" (click)="submit()">{{ Finish2 }}</button>
      </aw-wizard-step>

      <aw-wizard-step stepTitle="'STEEP 6'">
        <div class="container">
          <h3 class="margin-bottom-10 margin-top-10">Additional Information</h3>

          <br /><br />

          <div style="margin-top: 50px;" class="form">
            <h5>Photo (Optional)</h5>
            <label class="upload-btn">
              <input
                type="file"
                accept="image/jpeg,image/png,"
                formControlName="photoFile"
                (change)="detectPhotoFile($event)"
              />
              <i class="fa fa-upload"></i> Browse
            </label>
            <span class="fake-input" *ngIf="!selectedPhotoFile"
              >No file selected</span
            >
            <span class="fake-input" *ngIf="selectedPhotoFile">{{
              photo
            }}</span>
          </div>

          <!-- <div style="margin-top: 35px;" class="form-row form-row-wide">
            <label>Resume Headline: <span class="red">*</span></label>
            <input
              type="text"
              class="input-text"
              formControlName="cvTitle"
              cols="30"
              rows="3"
              [ngClass]="{
                'input-error':
                  (cvTitle.invalid && cvTitle.touched) ||
                  (cvTitle.invalid && fifthCheck$)
              }"
            />
            <p
              class="error2"
              *ngIf="
                (cvTitle.invalid && cvTitle.touched) ||
                (cvTitle.invalid && fifthCheck$)
              "
            >
              Your Resume Headline is required
            </p>
          </div> -->

          <div style="margin-top: 50px;" class="form">
            <h5>CV <span class="red">*</span></h5>
            <label class="upload-btn">
              <input
                type="file"
                accept="application/pdf"
                formControlName="cvFile"
                (change)="detectCvFile($event)"
                [ngClass]="{
                  'input-error':
                    (!selectedCvFile && cvFile.touched && cvFile.invalid) ||
                    (!selectedCvFile && cvFile.invalid && fifthCheck$)
                }"
              />
              <p class="error2" *ngIf="">CV is required</p>
              <i class="fa fa-upload"></i> Browse
            </label>
            <span class="fake-input" *ngIf="!selectedCvFile"
              >No file selected</span
            >
            <span class="fake-input" *ngIf="selectedCvFile">{{ cv }}</span>

            <p
              class="error2"
              *ngIf="
                (!selectedCvFile && cvFile.invalid && cvFile.touched) ||
                (!selectedCvFile && cvFile.invalid && fifthCheck$)
              "
            >
              Your Cv is Required
            </p>
          </div>

          <div style="margin-top: 35px;" class="form-row form-row-wide">
            <label>How did you here about us: <span class="red">*</span></label>
            <textarea
              formControlName="howDidYouHereAboutUs"
              cols="30"
              rows="3"
              [ngClass]="{
                'input-error':
                  (howDidYouHereAboutUs.invalid &&
                    howDidYouHereAboutUs.touched) ||
                  (howDidYouHereAboutUs.invalid && fifthCheck$)
              }"
            ></textarea>
            <p
              class="error2"
              *ngIf="
                (howDidYouHereAboutUs.invalid &&
                  howDidYouHereAboutUs.touched) ||
                (howDidYouHereAboutUs.invalid && fifthCheck$)
              "
            >
              How Did You Here About is required
            </p>
          </div>

          <div style="margin-top: 35px;" class="form-row form-row-wide">
            <label>Tell Us About Your self: <span class="red">*</span></label>
            <angular-editor
              [config]="editorConfig"
              placeholder="Start Typing..."
              formControlName="tellUsAboutYourSelf"
              [ngClass]="{
                'input-error':
                  (tellUsAboutYourSelf.invalid &&
                    tellUsAboutYourSelf.touched) ||
                  (tellUsAboutYourSelf.invalid && fifthCheck$)
              }"
            >
            </angular-editor>
            <p
              class="error2"
              *ngIf="
                (tellUsAboutYourSelf.invalid && tellUsAboutYourSelf.touched) ||
                (tellUsAboutYourSelf.invalid && fifthCheck$)
              "
            >
              Telling Us About Yourself is required
            </p>
          </div>
        </div>

        <br /><br />
        <hr />
        <app-error *ngIf="error2" (reload)="submit()"></app-error>

        <button type="button" awPreviousStep>Prev</button>
        <button
          *ngIf="
            !fifthCheck$ &&
            (howDidYouHereAboutUs.invalid ||
              tellUsAboutYourSelf.invalid ||
              (!selectedCvFile && cvFile.invalid))
          "
          (click)="fifthCheck()"
          type="button"
        >
          Next Steep
        </button>
        <button
          *ngIf="
            fifthCheck$ &&
            (howDidYouHereAboutUs.invalid ||
              tellUsAboutYourSelf.invalid ||
              (!selectedCvFile && cvFile.invalid))
          "
          (click)="fifthCheck()"
          type="button"
        >
          Next Steep
        </button>
        <button
          *ngIf="
            !howDidYouHereAboutUs.invalid &&
            !tellUsAboutYourSelf.invalid &&
            selectedCvFile &&
            !cvFile.invalid
          "
          type="fifthCheck"
          type="button"
          (click)="submit()"
        >
          {{ Finish }}
        </button>
      </aw-wizard-step>
    </aw-wizard>
  </form>
</div>

<br /><br /><br />
